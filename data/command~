mongoimport --db esapi --collection rentalpoint --jsonArray ~/my_projects/esapi/data/esapi_rental.js
## update single price 
db.rentalpoint.find().toArray().forEach(
    function (elem, index, array) {
	if ( elem.price_total  && elem.beds ) {
		db.rentalpoint.update(
		    {
		        _id: elem._id
		    },
		    {
		        $set: {
		            price_single: elem.price_total / elem.beds
		        }
		    }
		);
	}
    }
);


db.rentalpoint.find().toArray().forEach(
    function (elem, index, array) {
		db.rentalpoint.update(
		    {
		        _id: elem._id
		    },
		    {
		        $set: {
		            _id: ObjectId(elem._id)
		        }
		    }
		);
    }
);
db.rentalpoint.update(
{isexpired:true},{ $set:{isexpired:false}},{multi:true}
)
db.rentalpoint.update(
{isexpired:false},{ $set:{isexpired:true}}, {multi:true}
)
db.rentalpoint.update(
{isexpired:false},{ $unset:{"old_id":""}}, {multi:true})



db.route.update(
{isexpired:true},{ $set:{isexpired:false}}
)

db.route.remove(
{_id:ObjectId("556fe63ec9e6ada13808984b")}
)
